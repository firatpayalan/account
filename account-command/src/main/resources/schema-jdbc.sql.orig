CREATE TABLE IF NOT EXISTS "DOMAIN_EVENT_ENTRY"(
    "GLOBAL_INDEX" BIGINT NOT NULL,
    "EVENT_IDENTIFIER" VARCHAR(255) NOT NULL,
    "META_DATA" BLOB,
    "PAYLOAD" BLOB NOT NULL,
    "PAYLOAD_REVISION" VARCHAR(255),
    "PAYLOAD_TYPE" VARCHAR(255) NOT NULL,
    "TIME_STAMP" VARCHAR(255) NOT NULL,
    "AGGREGATE_IDENTIFIER" VARCHAR(255) NOT NULL,
    "SEQUENCE_NUMBER" BIGINT NOT NULL,
    "TYPE" VARCHAR(255)
);             
ALTER TABLE "DOMAIN_EVENT_ENTRY" ADD CONSTRAINT IF NOT EXISTS "PK_DOMAIN_EVENT_ENTRY" PRIMARY KEY("GLOBAL_INDEX");  
     
CREATE TABLE IF NOT EXISTS "SNAPSHOT_EVENT_ENTRY"(
    "AGGREGATE_IDENTIFIER" VARCHAR(255) NOT NULL,
    "SEQUENCE_NUMBER" BIGINT NOT NULL,
    "TYPE" VARCHAR(255) NOT NULL,
    "EVENT_IDENTIFIER" VARCHAR(255) NOT NULL,
    "META_DATA" BLOB,
    "PAYLOAD" BLOB NOT NULL,
    "PAYLOAD_REVISION" VARCHAR(255),
    "PAYLOAD_TYPE" VARCHAR(255) NOT NULL,
    "TIME_STAMP" VARCHAR(255) NOT NULL
);      
ALTER TABLE "SNAPSHOT_EVENT_ENTRY" ADD CONSTRAINT IF NOT EXISTS "PK_SNAPSHOT_EVENT_ENTRY" PRIMARY KEY("AGGREGATE_IDENTIFIER", "SEQUENCE_NUMBER", "TYPE");                  
ALTER TABLE "DOMAIN_EVENT_ENTRY" ADD CONSTRAINT IF NOT EXISTS "UK_AGGREGATE" UNIQUE("AGGREGATE_IDENTIFIER", "SEQUENCE_NUMBER");             
ALTER TABLE "DOMAIN_EVENT_ENTRY" ADD CONSTRAINT IF NOT EXISTS "UK_EVENT" UNIQUE("EVENT_IDENTIFIER");   
ALTER TABLE "SNAPSHOT_EVENT_ENTRY" ADD CONSTRAINT IF NOT EXISTS "UK_SNAPSHOT_EVENT" UNIQUE("EVENT_IDENTIFIER"); 
